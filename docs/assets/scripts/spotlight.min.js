/**
 * Spotlight.js v0.7.6
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/spotlight
 */
(function(){'use strict';Object.assign||(Object.assign=function(a,b){for(var c=Object.keys(b),e=0,f;e<c.length;e++)f=c[e],a[f]=b[f];return a});Element.prototype.closest||(Element.prototype.closest=function(a){a=a.substring(1);for(var b=this;b&&1===b.nodeType;){if(b.classList.contains(a))return b;b=b.parentElement}return null});function d(a,b){a.classList.add(b)}function g(a,b){a.classList.remove(b)}function h(a,b,c){c=""+c;a["_s_"+b]!==c&&(a.style.setProperty(b,c),a["_s_"+b]=c)}var aa=0;function ba(a,b){h(a,"transition","none");b();aa||(aa=a.clientTop&&0);h(a,"transition","")}function k(a,b,c,e){a.addEventListener(b,c,e||!1===e?e:!0)}function ca(a,b,c,e){a.removeEventListener(b,c,e||!1===e?e:!0)}function da(a,b){a.stopPropagation();b&&a.preventDefault()}function l(a,b){h(a,"display",b?"":"none")}
function ea(a,b){h(a,"visibility",b?"":"hidden")}function m(a,b){h(a,"transition",b?"":"none")};var n="theme download play page close autofit zoom-in zoom-out prev next fullscreen".split(" "),fa={page:1,close:1,autofit:1,"zoom-in":1,"zoom-out":1,prev:1,next:1,fullscreen:1};var p=document.createElement("div");p.id="spotlight";p.innerHTML="<div class=spl-spinner></div><div class=spl-track><div class=spl-scene><div class=spl-pane></div></div></div><div class=spl-header><div class=spl-page> </div></div><div class=spl-progress></div><div class=spl-footer><div class=spl-title> </div><div class=spl-description> </div><div class=spl-button> </div></div><div class=spl-prev></div><div class=spl-next></div>";var ha={},ia=document.createElement("video");function ja(a,b,c,e){if("node"!==e)for(var f=Object.keys(c),z=0,w;z<f.length;z++)if(w=f[z],3<w.length&&0===w.indexOf("src"))if("video"===e){var H=ha[w];if(H){if(0<H){var Da=c[w];break}}else if(ia.canPlayType("video/"+w.substring(3).toLowerCase())){ha[w]=1;Da=c[w];break}else ha[w]=-1}else if(H=parseInt(w.substring(4),10))if(H=Math.abs(b-H),!ib||H<ib){var ib=H;Da=c[w]}return Da||c.src||c.href||a.src||a.href};var q={},ka=navigator.connection,la=window.devicePixelRatio||1,r,t,ma,na,u,oa,pa,qa,v,ra,sa,ta,x,y,A,B,C,D,ua,E,F,va,wa,xa,ya,za,Aa,G,Ba,Ca,Ea,Fa,Ga,Ha,Ia,Ja,I,J,K,L,M,Ka=document.createElement("img"),N,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,O,Va,P,Q,R,S,Wa,T,Xa;k(document,"click",Ya);
function Za(){function a(c){return q[c]=(p||document).getElementsByClassName("spl-"+c)[0]}if(!J){J=document.body;N=a("scene");La=a("header");Ma=a("footer");Na=a("title");Oa=a("description");Pa=a("button");Qa=a("prev");Ra=a("next");Ta=a("page");O=a("progress");Va=a("spinner");L=[a("pane")];U("close",$a);J[T="requestFullscreen"]||J[T="msRequestFullscreen"]||J[T="webkitRequestFullscreen"]||J[T="mozRequestFullscreen"]||(T="");T?(Xa=T.replace("request","exit").replace("mozRequest","mozCancel").replace("Request",
"Exit"),Sa=U("fullscreen",ab)):n.pop();U("autofit",V);U("zoom-in",bb);U("zoom-out",cb);U("theme",db);Ua=U("play",W);U("download",eb);k(Qa,"click",fb);k(Ra,"click",gb);var b=a("track");k(b,"mousedown",hb);k(b,"mousemove",jb);k(b,"mouseleave",kb);k(b,"mouseup",kb);k(b,"touchstart",hb,{passive:!1});k(b,"touchmove",jb,{passive:!0});k(b,"touchend",kb);k(Pa,"click",function(){Fa?Fa(A,D):Ea&&(location.href=Ea)})}}
function U(a,b){var c=document.createElement("div");c.className="spl-"+a;k(c,"click",b);La.appendChild(c);return q[a]=c}function Ya(a){var b=a.target.closest(".spotlight");if(b){da(a,!0);a=b.closest(".spotlight-group");C=(a||document).getElementsByClassName("spotlight");for(var c=0;c<C.length;c++)if(C[c]===b){E=a&&a.dataset;lb(c+1);break}}}
function lb(a){if(B=C.length){J||Za();wa&&wa(a);for(var b=L[0],c=b.parentNode,e=L.length;e<B;e++){var f=b.cloneNode(!1);h(f,"left",100*e+"%");c.appendChild(f);L[e]=f}K||(J.appendChild(p),mb());A=a||1;m(N);nb(!0);history.pushState({spl:1},"");history.pushState({spl:2},"");m(p,!0);d(J,"hide-scrollbars");d(p,"show");ob(!0);mb();X();G&&W()}}function Y(a,b){a=D[a];return"undefined"!==typeof a?(a=""+a,"false"!==a&&(a||b)):b}
function pb(a){a?ba(M,pb):(m(N,Ja),h(M,"opacity",Ia?0:1),qb(Ha&&.8),I&&d(M,I))}
function rb(a){K=L[a-1];M=K.firstChild;A=a;if(M)x&&V(),za&&d(M,za),pb(!0),I&&g(M,I),Ia&&h(M,"opacity",1),Ha&&h(M,"transform",""),h(M,"visibility","visible"),Q&&(Ka.src=Q);else{var b=P.media,c=Y("spinner",!0);if("video"===b)sb(c,!0),M=document.createElement("video"),M.onloadedmetadata=function(){M===this&&(M.onerror=null,M.width=M.videoWidth,M.height=M.videoHeight,tb(),sb(c),rb(a))},M.poster=D.poster,M.preload=Ca?"auto":"metadata",M.controls=Y("controls",!0),M.autoplay=G,M.h=Y("inline"),M.muted=Y("muted"),
M.src=P.src,K.appendChild(M);else{if("node"===b){M=P.src;"string"===typeof M&&(M=document.querySelector(M));M&&(M.g||(M.g=M.parentNode),tb(),K.appendChild(M),rb(a));return}sb(c,!0);M=document.createElement("img");M.onload=function(){M===this&&(M.onerror=null,sb(c),rb(a),tb())};M.src=P.src;K.appendChild(M)}M&&(c||h(M,"visibility","visible"),M.onerror=function(){M===this&&(ub(M),d(Va,"error"),sb(c))})}}function sb(a,b){a&&(b?d:g)(Va,"spin")}
function vb(){return document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement}function wb(){mb();M&&tb();T&&(vb()?d(Sa,"on"):(g(Sa,"on"),l(Sa,0<=screen.availHeight-window.outerHeight)))}function mb(){u=p.clientWidth;oa=p.clientHeight}function tb(){pa=M.clientWidth;qa=M.clientHeight}function qb(a){h(M,"transform","translate(-50%, -50%) scale("+(a||v)+")")}function Z(a,b){h(K,"transform",a||b?"translate("+a+"px, "+b+"px)":"")}
function xb(a,b,c){b?ba(N,function(){xb(a,!1,c)}):h(N,"transform","translateX("+(100*-a+(c||0))+"%)")}function ob(a){a=a?k:ca;a(window,"keydown",yb);a(window,"wheel",zb);a(window,"resize",wb);a(window,"popstate",Ab)}function Ab(a){K&&a.state.spl&&$a(!0)}function yb(a){if(K)switch(a.keyCode){case 8:V();break;case 27:$a();break;case 32:G&&W();break;case 37:fb();break;case 39:gb();break;case 38:case 107:case 187:bb();break;case 40:case 109:case 189:cb()}}
function zb(a){K&&(a=a.deltaY,0>.5*(0>a?1:a?-1:0)?cb():bb())}function W(a){("boolean"===typeof a?a:!R)?R||(R=setInterval(gb,1E3*Ga),d(Ua,"on"),va&&Bb(!0)):R&&(R=clearInterval(R),g(Ua,"on"),va&&Bb())}function Bb(a){ba(O,function(){h(O,"transition-duration","");h(O,"transform","")});a&&(h(O,"transition-duration",Ga+"s"),h(O,"transform","translateX(0)"))}function X(){Aa&&(Wa=Date.now()+2950,S||(d(p,"menu"),Cb(3E3)))}
function Cb(a){S=setTimeout(function(){var b=Date.now();b>=Wa?(g(p,"menu"),S=0):Cb(Wa-b)},a)}function Db(a){"boolean"===typeof a&&(S=a?S:0);S?(S=clearTimeout(S),g(p,"menu")):X()}function hb(a){da(a,!0);ra=!0;sa=!1;var b=a.touches;b&&(b=b[0])&&(a=b);ta=pa*v<=u;ma=a.pageX;na=a.pageY;m(K)}function kb(a){da(a);if(ra){if(sa){if(ta&&sa){var b=(a=r<-(u/7)&&(A<B||F))||r>u/7&&(1<A||F);if(a||b)xb(A-1,!0,r/u*100),a&&gb()||b&&fb();r=0;Z()}m(K,!0)}else Db();ra=!1}}
function jb(a){da(a);if(ra){var b=a.touches;b&&(b=b[0])&&(a=b);b=(pa*v-u)/2;r-=ma-(ma=a.pageX);ta||(r>b?r=b:r<-b&&(r=-b),qa*v>oa&&(b=(qa*v-oa)/2,t-=na-(na=a.pageY),t>b?t=b:t<-b&&(t=-b)));sa=!0;Z(r,t)}else X()}function ab(a){var b=vb();if("boolean"!==typeof a||a!==!!b)if(b)document[Xa]();else p[T]()}function db(a){"string"!==typeof a&&(a=y?"":Ba||"white");y!==a&&(y&&g(p,y),a&&d(p,a),y=a)}
function V(a){"boolean"===typeof a&&(x=!a);(x=1===v&&!x)?d(M,"autofit"):g(M,"autofit");h(M,"transform","");v=1;t=r=0;tb();m(K);Z()}function bb(){var a=v/.65;50>=a&&(x&&V(),r/=.65,t/=.65,Z(r,t),Eb(a))}function cb(){var a=.65*v;x&&V();1<=a&&(1===a?r=t=0:(r*=.65,t*=.65),Z(r,t),Eb(a))}function Eb(a){v=a||1;qb()}function eb(){var a=J,b=document.createElement("a"),c=M.src;b.href=c;b.download=c.substring(c.lastIndexOf("/")+1);a.appendChild(b);b.click();a.removeChild(b)}
function $a(a){setTimeout(function(){J.removeChild(p);K=M=P=D=E=C=wa=xa=ya=Fa=null},200);g(J,"hide-scrollbars");g(p,"show");ab(!1);ob();history.go(!0===a?-1:-2);Q&&(Ka.src="");R&&W();M&&ub(M);S&&Db(!0);y&&db();ya&&ya()}function ub(a){if(a.g)a.g.appendChild(a),a.g=null;else{var b=a.parentNode;b&&b.removeChild(a);a.src=a.onerror=""}}function fb(a){a&&X();if(1<B){if(1<A)return Fb(A-1);if(F)return xb(B,!0),Fb(B)}}
function gb(a){a&&X();if(1<B){if(A<B)return Fb(A+1);if(F)return xb(-1,!0),Fb(1);R&&W()}}function Fb(a){if(a!==A){R?W():X();var b=a>A;A=a;nb(b);G&&W();return!0}}
function Gb(a){var b=C[A-1],c=b;D={};E&&Object.assign(D,E);Object.assign(D,c.dataset||c);ua=D.media;Fa=D.onclick;Ba=D.theme;Aa=Y("autohide",!0);F=Y("infinite");va=Y("progress",!0);G=Y("autoplay");Ca=Y("preload",!0);Ea=D.buttonHref;Ga=G&&parseFloat(G)||7;y||Ba&&db(Ba);if(c=D.control){c="string"===typeof c?c.split(","):c;for(var e=0;e<n.length;e++)D[n[e]]=!1;for(e=0;e<c.length;e++){var f=c[e].trim();"zoom"===f?D["zoom-in"]=D["zoom-out"]=!0:D[f]=!0}}c=D.animation;Ha=Ia=Ja=!c;I=!1;if(c)for(c="string"===
typeof c?c.split(","):c,e=0;e<c.length;e++)f=c[e].trim(),"scale"===f?Ha=!0:"fade"===f?Ia=!0:"slide"===f?Ja=!0:f&&(I=f);za=D.fit;e=ka&&ka.downlink;c=Math.max(oa,u)*la;e&&1200*e<c&&(c=1200*e);var z;P={media:ua,src:ja(b,c,D,ua),title:Y("title",b.alt||b.title||(z=b.firstElementChild)&&(z.alt||z.title))};Q&&(Ka.src=Q="");Ca&&a&&(b=C[A])&&(a=b.dataset||b,(z=a.media)&&"image"!==z||(Q=ja(b,c,a,z)));for(b=0;b<n.length;b++)a=n[b],l(q[a],Y(a,fa[a]))}
function nb(a){t=r=0;v=1;Gb(a);xb(A-1);if(M)if(M.onerror)ub(M);else{var b=M;setTimeout(function(){b&&M!==b&&(ub(b),b=null)},650);pb();Z()}g(Va,"error");rb(A);m(K);Z();a=P.title;var c=Y("description"),e=Y("button"),f=a||c||e;f&&(a&&(Na.firstChild.nodeValue=a),c&&(Oa.firstChild.nodeValue=c),e&&(Pa.firstChild.nodeValue=e),l(Na,a),l(Oa,c),l(Pa,e),h(Ma,"transform","all"===Aa?"":"none"));Aa||d(p,"menu");ea(Ma,f);ea(Qa,F||1<A);ea(Ra,F||A<B);Ta.firstChild.nodeValue=1<B?A+" / "+B:"";xa&&xa(A,D)};window.Spotlight={init:Za,theme:db,fullscreen:ab,download:eb,autofit:V,next:gb,prev:fb,goto:Fb,close:$a,zoom:Eb,menu:Db,show:function(a,b,c){C=a;b&&(E=b,wa=b.onshow,xa=b.onchange,ya=b.onclose,c=c||b.index);lb(c)},play:W,addControl:U,removeControl:function(a){var b=q[a];b&&(La.removeChild(b),q[a]=null)}};}).call(this);
